{"version":3,"sources":["Components/ToolBar.js","Components/NewTaskHandler.js","Components/CategoryRadio.js","Components/TaskElement.js","Components/MainContainer.js","index.js"],"names":["ToolBar","tasks","setTasks","inputRef","useRef","getUserId","userId","current","value","alert","className","type","placeholder","ref","onClick","localStorage","setItem","JSON","stringify","userTasks","parse","getItem","filter","task","checked","taskId","NewTaskHandler","content","taskElem","id","CategoryRadio","category","setCategory","name","onChange","e","target","TaskElement","contentRef","editContentRef","editRootRef","useState","isChecked","setIsChecked","isEditing","setIsEditing","switchEditMode","classList","toggle","focus","innerText","elem","MainContainer","getVisibleTasks","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0VAoDeA,MAhDf,YAAuC,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SAClBC,EAAWC,iBAAO,MA2BxB,SAASC,IACP,IAAMC,EAASH,EAASI,QAAQC,MAChC,OAAKF,IACHG,MAAM,gCACC,IAKX,OACE,sBAAKC,UAAU,WAAf,UACE,sBAAMA,UAAU,eAAhB,0BACA,uBAAOA,UAAU,yBAAyBC,KAAK,OAAOC,YAAY,UAAUC,IAAKV,IACjF,wBAAQO,UAAU,sBAAsBI,QAhC5C,WACE,IAAMR,EAASD,IACVC,GACLS,aAAaC,QAAQV,EAAQW,KAAKC,UAAUjB,KA6B1C,+BACA,wBAAQS,UAAU,sBAAsBI,QA1B5C,WACE,IAAMR,EAASD,IACf,GAAKC,EAAL,CACA,IAAMa,EAAYF,KAAKG,MAAML,aAAaM,QAAQf,IAC7Ca,EAILjB,EAASiB,GAHPV,MAAM,6BAqBN,+BACA,wBAAQC,UAAU,sBAAsBI,QAvC5C,WACEZ,EAASD,EAAMqB,QAAO,SAAAC,GAAI,OAAKA,EAAKC,aAsClC,+C,OC3CFC,G,MAAS,GAqCEC,MAlCf,YAA8C,IAApBzB,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACzBC,EAAWC,iBAAO,MAmBxB,OACE,sBAAKM,UAAU,mBAAf,UACE,sBAAMA,UAAU,gBAAhB,0BACA,uBACEA,UAAU,gCACVC,KAAK,OACLE,IAAKV,EACLS,YAAY,mCAEd,wBAAQF,UAAU,0BAA0BI,QAzBhD,WACE,IAAMa,EAAUxB,EAASI,QAAQC,MACjC,GAAKmB,EAAL,CAIAxB,EAASI,QAAQC,MAAQ,GACzB,IAAMoB,EAAW,CACfC,GAAIJ,EACJE,UACAH,SAAS,GAEXtB,EAAS,GAAD,mBAAKD,GAAL,CAAY2B,KACpBH,SAVEhB,MAAM,6CAsBN,8B,MCMSqB,MAvCf,YAAmD,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YACjC,OACE,sBAAKtB,UAAU,iBAAf,UACE,wBAAOA,UAAU,uBAAjB,UACE,uBACEA,UAAU,8BACVF,MAAM,MACNyB,KAAK,WACLtB,KAAK,QACLuB,SAAU,SAAAC,GAAC,OAAIH,EAAYG,EAAEC,OAAO5B,QACpCgB,QAAsB,QAAbO,IAPb,UAWA,wBAAOrB,UAAU,uBAAjB,UACE,uBACEA,UAAU,iBACVF,MAAM,OACNyB,KAAK,WACLtB,KAAK,QACLuB,SAAU,SAAAC,GAAC,OAAIH,EAAYG,EAAEC,OAAO5B,QACpCgB,QAAsB,SAAbO,IAPb,WAWA,wBAAOrB,UAAU,uBAAjB,UACE,uBACEA,UAAU,iBACVF,MAAM,OACNyB,KAAK,WACLtB,KAAK,QACLuB,SAAU,SAAAC,GAAC,OAAIH,EAAYG,EAAEC,OAAO5B,QACpCgB,QAAsB,SAAbO,IAPb,e,MC0CSM,MAnEf,YAAiD,IAA1Bd,EAAyB,EAAzBA,KAAMtB,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SAC5BoC,EAAalC,iBAAO,MACpBmC,EAAiBnC,iBAAO,MACxBoC,EAAcpC,iBAAO,MAHmB,EAKZqC,mBAASlB,EAAKC,SALF,mBAKvCkB,EALuC,KAK5BC,EAL4B,OAMZF,oBAAS,GANG,mBAMvCG,EANuC,KAM5BC,EAN4B,KAwC9C,SAASC,IACPR,EAAW/B,QAAQwC,UAAUC,OAAO,UACpCR,EAAYjC,QAAQwC,UAAUC,OAAO,UAIvC,OACE,sBAAKtC,UAAU,eAAf,UACE,qBAAKA,UAAU,mBACf,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,YAAf,SAA4Ba,EAAKC,QAAU,eAAO,iBAClD,qBACEd,UAAWa,EAAKC,QAAU,yBAA2B,YACrDX,IAAKyB,EACLxB,QAhCR,WACM8B,IACJE,IACAP,EAAehC,QAAQC,MAAQe,EAAKI,QACpCY,EAAehC,QAAQ0C,QACvBJ,GAAa,KAwBT,SAIEtB,EAAKI,UACP,sBAAKjB,UAAU,mBAAmBG,IAAK2B,EAAvC,UACE,uBAAO9B,UAAU,2BAA2BC,KAAK,OAAOE,IAAK0B,IAC7D,qBAAK7B,UAAU,eAAeI,QA3BtC,WACO8B,IACLE,IACAvB,EAAKI,QAAUY,EAAehC,QAAQC,MACtC8B,EAAW/B,QAAQ2C,UAAY3B,EAAKI,QACpCkB,GAAa,UAwBT,wBAAQnC,UAAU,sBAAsBI,QAnD9C,WACEwB,EAAW/B,QAAQwC,UAAUC,OAAO,gBACpCzB,EAAKC,SAAWD,EAAKC,QACrBmB,GAAcD,GACdxC,EAAS,YAAID,KA+CT,SAAqEsB,EAAKC,QAAU,eAAO,iBAC3F,wBAAQd,UAAU,sBAAsBI,QA5C9C,WACEZ,EAASD,EAAMqB,QAAO,SAAA6B,GAAI,OAAIA,EAAKtB,KAAON,EAAKM,QA2C3C,2BCbOuB,MA3Cf,WAA0B,IAAD,EACSX,mBAAS,OADlB,mBAChBV,EADgB,KACNC,EADM,OAEGS,mBAAS,IAFZ,mBAEhBxC,EAFgB,KAETC,EAFS,KAoBvB,OACE,qBAAKQ,UAAU,iBAAf,SACE,sBAAKA,UAAU,4BAAf,UACE,qBAAKA,UAAU,eAAf,mCACA,cAAC,EAAD,2BAAa,CAAET,UAAa,CAAEC,cAC9B,cAAC,EAAD,2BAAoB,CAAED,UAAa,CAAEC,cACrC,cAAC,EAAD,2BAAmB,CAAE6B,aAAgB,CAAEC,iBACvC,qBAAKtB,UAAU,kBAAf,SAtBN,WACE,OAAQqB,GACN,IAAK,OACH,OAAO9B,EAAMqB,QAAO,SAAAC,GAAI,OAAKA,EAAKC,WACpC,IAAK,OACH,OAAOvB,EAAMqB,QAAO,SAAAC,GAAI,OAAIA,EAAKC,WACnC,QACE,OAAOvB,GAiBLoD,GAAkBC,KAAI,SAAA/B,GAAI,OACxB,cAAC,EAAD,uCAEM,CAAEA,SACF,CAAEtB,UACF,CAAEC,aAHDqB,EAAKM,eCjCxB0B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.c2689efa.chunk.js","sourcesContent":["import { useRef } from 'react';\r\nimport './ToolBar.css';\r\n\r\n// å·¥å…·åˆ—ï¼Œ æŒç®¡ä½¿ç”¨è€…åç¨±ã€list çš„å­˜å–ã€æ¸…ç©ºå·²å®Œæˆ tasks\r\nfunction ToolBar({ tasks, setTasks }) {\r\n  const inputRef = useRef(null);  // é€é ref å»ºç«‹åƒè€ƒ input element çš„é€”å¾‘\r\n\r\n  // æ¸…ç©ºéµï¼Œæ¸…ç©ºå·²å®Œæˆçš„ task\r\n  function onClearBtnClicked() {\r\n    setTasks(tasks.filter(task => !task.checked));\r\n  }\r\n\r\n  // å„²å­˜éµï¼Œä¾æ“šä½¿ç”¨è€…åç¨±å°‡ç•¶å‰çš„ tasks é€²è¡Œ localStorage\r\n  function onSaveBtnClicked() {\r\n    const userId = getUserId();\r\n    if (!userId) return;\r\n    localStorage.setItem(userId, JSON.stringify(tasks));\r\n  }\r\n\r\n  // è®€å–éµï¼Œä¾æ“šä½¿ç”¨è€…åç¨±è®€å–ä¹‹å‰å„²å­˜çš„ tasks\r\n  function onLoadBtnClicked() {\r\n    const userId = getUserId();\r\n    if (!userId) return;\r\n    const userTasks = JSON.parse(localStorage.getItem(userId));\r\n    if (!userTasks) {\r\n      alert('User tasks not found :3');\r\n      return;\r\n    }\r\n    setTasks(userTasks);\r\n  }\r\n\r\n  // é€é ref é€”å¾‘ç²å– input value\r\n  function getUserId() {\r\n    const userId = inputRef.current.value;\r\n    if (!userId) {\r\n      alert('Please input your user ID :3');\r\n      return '';\r\n    }\r\n    return userId;\r\n  }\r\n\r\n  return (\r\n    <div className=\"tool-bar\">\r\n      <span className=\"tool-id-icon\">ğŸ—¿</span>\r\n      <input className=\"tool-id common-concave\" type=\"text\" placeholder=\"User ID\" ref={inputRef}></input>\r\n      <button className=\"tool-btn common-btn\" onClick={onSaveBtnClicked}>Save ğŸ’¾</button>\r\n      <button className=\"tool-btn common-btn\" onClick={onLoadBtnClicked}>Load ğŸ“‚</button>\r\n      <button className=\"tool-btn common-btn\" onClick={onClearBtnClicked}>Clear Done ğŸ—‘ï¸</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ToolBar;\r\n","import { useRef } from 'react';\r\nimport './NewTaskHandler.css';\r\n\r\n// è¨­ key ç”¨\r\nlet taskId = 0;\r\n\r\n// è™•ç†æ–°å¢ task çš„ç›¸é—œå…§å®¹\r\nfunction NewTaskHandler({ tasks, setTasks }) {\r\n  const inputRef = useRef(null);  // é€é ref å»ºç«‹åƒè€ƒ input element çš„é€”å¾‘\r\n\r\n  // æ–°å¢éµï¼Œä¾ç…§è¼¸å…¥çš„å…§å®¹å»ºç«‹æ–°çš„ task\r\n  function onNewTaskBtnClicked() {\r\n    const content = inputRef.current.value;\r\n    if (!content) {\r\n      alert('Please write a title for the new task :3');\r\n      return;\r\n    }\r\n    inputRef.current.value = '';\r\n    const taskElem = {\r\n      id: taskId,\r\n      content,\r\n      checked: false,\r\n    }\r\n    setTasks([...tasks, taskElem]);\r\n    taskId++;\r\n  }\r\n\r\n  return (\r\n    <div className=\"new-task-handler\">\r\n      <span className=\"new-task-icon\">âœï¸</span>\r\n      <input\r\n        className=\"new-task-input common-concave\"\r\n        type=\"text\"\r\n        ref={inputRef}\r\n        placeholder=\"Write a title for the new task\"\r\n      />\r\n      <button className=\"new-task-btn common-btn\" onClick={onNewTaskBtnClicked} >ğŸ“„</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewTaskHandler;\r\n","import './CategoryRadio.css';\r\n\r\n// ç®¡ç†ä¸¦å›å‚³ radio ç‹€æ…‹ï¼Œç‚ºäº†å¯¦ç¾é»æ“Š label ä¹Ÿèƒ½è¦–ç‚ºæœ‰æ•ˆè¼¸å…¥ï¼Œå¥—äº†æ¯”è¼ƒå¤šå±¤\r\nfunction CategoryRadio({ category, setCategory }) {\r\n  return (\r\n    <div className=\"category-radio\">\r\n      <label className=\"input-category-cover\">\r\n        <input\r\n          className=\"input-category category-all\"\r\n          value=\"all\"\r\n          name=\"category\"\r\n          type=\"radio\"\r\n          onChange={e => setCategory(e.target.value)}\r\n          checked={category === 'all'}\r\n        /> All\r\n      </label>\r\n\r\n      <label className=\"input-category-cover\">\r\n        <input\r\n          className=\"input-category\"\r\n          value=\"todo\"\r\n          name=\"category\"\r\n          type=\"radio\"\r\n          onChange={e => setCategory(e.target.value)}\r\n          checked={category === 'todo'}\r\n        /> Todo\r\n      </label>\r\n\r\n      <label className=\"input-category-cover\">\r\n        <input\r\n          className=\"input-category\"\r\n          value=\"done\"\r\n          name=\"category\"\r\n          type=\"radio\"\r\n          onChange={e => setCategory(e.target.value)}\r\n          checked={category === 'done'}\r\n        /> Done\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoryRadio;\r\n","import { useState, useRef } from 'react';\r\nimport './TaskElement.css';\r\n\r\nfunction TaskElement({ task, tasks, setTasks }) {\r\n  const contentRef = useRef(null);      // é€é ref å»ºç«‹åƒè€ƒ task content çš„é€”å¾‘\r\n  const editContentRef = useRef(null);  // é€é ref å»ºç«‹åƒè€ƒ edit content çš„é€”å¾‘\r\n  const editRootRef = useRef(null);     // é€é ref å»ºç«‹åƒè€ƒ edit ä»‹é¢ root çš„é€”å¾‘\r\n\r\n  const [isChecked, setIsChecked] = useState(task.checked); // è©² task æ˜¯å¦å·²å®Œæˆ \r\n  const [isEditing, setIsEditing] = useState(false);        // è©² task æ˜¯å¦æ­£åœ¨ç·¨è¼¯\r\n\r\n  // å®Œæˆã€å¾©åŸéµï¼Œå°‡ task çš„ç‹€æ…‹åœ¨å®Œæˆèˆ‡æœªå®Œæˆä¹‹é–“åˆ‡æ› (toggle)\r\n  function onCheckBtnClicked() {\r\n    contentRef.current.classList.toggle('checked-text');\r\n    task.checked = !task.checked;\r\n    setIsChecked(!isChecked);\r\n    setTasks([...tasks]);\r\n  }\r\n\r\n  // åˆªé™¤éµï¼Œå°‡ task å¾ tasks ä¸­åˆªé™¤\r\n  function onDelBtnClicked() {\r\n    setTasks(tasks.filter(elem => elem.id !== task.id));\r\n  }\r\n\r\n  // å•Ÿç”¨ç·¨è¼¯ï¼Œå°‡ task åˆ‡æ›åˆ°ç·¨è¼¯ç‹€æ…‹\r\n  function onEditStart() {\r\n    if (isEditing) return;\r\n    switchEditMode();                             // å°‡é¡¯ç¤ºç‹€æ…‹åˆ‡æ›åˆ°ç·¨è¼¯æ¨¡å¼\r\n    editContentRef.current.value = task.content;  // å°‡ task.content æ³¨å…¥åˆ° input æ¬„ä½çš„ value ä¸­\r\n    editContentRef.current.focus();               // å°‡æ¸¸æ¨™ focus åœ¨ input æ¬„ä½\r\n    setIsEditing(true);\r\n  }\r\n\r\n  // çµæŸç·¨è¼¯ï¼Œå°‡ task åˆ‡æ›å›ä¸€èˆ¬ç‹€æ…‹\r\n  function onEditFinish() {\r\n    if (!isEditing) return;\r\n    switchEditMode();                              // å°‡é¡¯ç¤ºç‹€æ…‹åˆ‡å›åˆ°ä¸€èˆ¬æ¨¡å¼\r\n    task.content = editContentRef.current.value;   // å°‡ input æ¬„ä½çš„ value å‚³å›åˆ° task.content ä¸­\r\n    contentRef.current.innerText = task.content;   // å°‡ task.content èˆ‡ innerText åŒæ­¥\r\n    setIsEditing(false);\r\n  }\r\n\r\n  // åˆ‡æ›ç·¨è¼¯ç‹€æ…‹ï¼Œé€é class name åˆ‡æ›é¡¯ç¤ºå…§å®¹ (éä¸»æµ react ä½œæ³•ï¼Œç•¶æ™‚é‚„åœ¨é©æ‡‰ä¸­ï¼Œå¾…æ”¹å–„)\r\n  function switchEditMode() {\r\n    contentRef.current.classList.toggle('hidden');\r\n    editRootRef.current.classList.toggle('hidden');\r\n  }\r\n\r\n  // é€éåˆ¤æ–· task.checked æ±ºå®šå¤§éƒ¨åˆ†çš„é¡¯ç¤ºæ¨£è²Œ\r\n  return (\r\n    <div className=\"task-element\">\r\n      <div className=\"common-concave\"></div>\r\n      <div className=\"task-content\">\r\n        <div className=\"task-sign\">{task.checked ? 'ğŸ' : 'ğŸš©'}</div>\r\n        <div \r\n          className={task.checked ? \"task-text checked-text\" : \"task-text\"}\r\n          ref={contentRef} \r\n          onClick={onEditStart}\r\n        >{task.content}</div>\r\n        <div className=\"edit-root hidden\" ref={editRootRef}>\r\n          <input className=\"edit-text common-concave\" type=\"text\" ref={editContentRef} />\r\n          <div className=\"edit-blocker\" onClick={onEditFinish}></div>\r\n        </div>\r\n        <button className=\"task-btn common-btn\" onClick={onCheckBtnClicked}>{task.checked ? 'â†©ï¸' : 'âœ”ï¸'}</button>\r\n        <button className=\"task-btn common-btn\" onClick={onDelBtnClicked}>âŒ</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TaskElement;\r\n","import { useState } from 'react';\r\nimport './MainContainer.css';\r\nimport ToolBar from './ToolBar';\r\nimport NewTaskHandler from './NewTaskHandler';\r\nimport CategoryRadio from './CategoryRadio';\r\nimport TaskElement from './TaskElement';\r\n\r\n// todolist æœ¬é«”ï¼Œå­å…ƒä»¶ä¾ç…§åŠŸèƒ½æ‹†æˆå››å€‹éƒ¨åˆ†\r\nfunction MainContainer() {\r\n  const [category, setCategory] = useState('all');  // radio ç‹€æ…‹\r\n  const [tasks, setTasks] = useState([]);           // tasks ç‹€æ…‹\r\n\r\n  // ä¾æ¢ä»¶å›å‚³éœ€è¦è¢«é¡¯ç¤ºçš„ tasks (æ¢ä»¶ç”± radio input æ±ºå®š)\r\n  function getVisibleTasks() {\r\n    switch (category) {\r\n      case 'todo':\r\n        return tasks.filter(task => !task.checked);\r\n      case 'done':\r\n        return tasks.filter(task => task.checked);\r\n      default:\r\n        return tasks;\r\n    }\r\n  }\r\n\r\n  // ToolBar - æŒç®¡ä½¿ç”¨è€…åç¨±ã€list çš„å­˜å–ã€æ¸…ç©ºå·²å®Œæˆ tasks\r\n  // NewTaskHandler - è™•ç†æ–°å¢ task çš„ç›¸é—œå…§å®¹\r\n  // CategoryRadio - ç®¡ç†ä¸¦å›å‚³ radio ç‹€æ…‹\r\n  // TaskElement - task çš„ç›¸é—œå…§å®¹éƒ½åœ¨æ­¤å…ƒä»¶ä¸­\r\n  return (\r\n    <div className=\"list-container\">\r\n      <div className=\"list-window common-convex\">\r\n        <div className=\"window-title\">ğŸ“Todo List</div>\r\n        <ToolBar {...{ tasks }} {...{ setTasks }} />\r\n        <NewTaskHandler {...{ tasks }} {...{ setTasks }} />\r\n        <CategoryRadio {...{ category }} {...{ setCategory }} />\r\n        <div className=\"tasks-container\">{\r\n          // é€é getVisibleTasks å¾ tasks éæ¿¾å‡ºéœ€è¦è¢«é¡¯ç¤ºçš„ task\r\n          getVisibleTasks().map(task =>\r\n            <TaskElement\r\n              key={task.id}\r\n              {...{ task }}\r\n              {...{ tasks }}\r\n              {...{ setTasks }}\r\n            />\r\n          )\r\n        }</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainContainer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './normalize.css';\nimport './index.css';\nimport MainContainer from './Components/MainContainer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MainContainer />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}